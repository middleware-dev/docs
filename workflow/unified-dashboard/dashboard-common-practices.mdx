---
title: Common Practices - Dashboard Builder
sidebarTitle: Common Practices
---

The following examples showcase common practices for configuring custom dashboards and widgets. Let this be the starting point to ensure you are effectively monitoring your system-wide infrastructure data.

# Custom Metrics Example Widgets

<Tabs>
  <Tab title="Gauge Active Connections">
    Select `connections.active` as your primary Metric, choose the __Maximum By__ filter and aggregate by the average of all `connections.active.hostname`

    ![](https://lh7-us.googleusercontent.com/AAW9N2jS-7oOPIKIjL9fQOAt2sjhrojhXtSzDhPJdBF8-Dryb7LmGwepEWP8R20vLgx1WDQwJJpJxd_-C-zvVZ1rgt9WQtOg8gfN80MTtYXJ9dC2EMD6Pn6PWzxjhwbyo0VG2PIYpf6T6xJ14_K5DcI)
  </Tab>
  <Tab title="Histogram - Download Speeds">
    Select `downloads.speeds_bucket` as your primary Metric, choose the __Average By__ filter and aggregate by the minimum of all `region`
    ![](https://lh7-us.googleusercontent.com/Y8VSPa1Tqo0BjnBaSukxcmKOoN9qM0f6Bix4QVUAU5dltBKdcl3WS1BhA2j9ImJNHUABoFYN3wEPx5wuFxaW0bsOM6zbdmMSR8aYHpoK46Aq5V3IlYslSu43pSxs8laS0iHfIlEvWElb3Oc8WwUP_Ek)
  </Tab>
  <Tab title="Counter - User Downloads">
    Select `uploads.count` as your primary Metric and choose the __Count By__ filter
    ![](https://lh7-us.googleusercontent.com/wmLdvI1nGMsdVxjKZtmy76CrsdcVmXpt_UplpFwM7xAHKBHSSmtAdJL1leqPLwwHJiRSPP5rHxfcAtba0tuicVkGGprjBRCZtMpaE8xiDdJWdjMMQ2uiu7m2oLvFyx5nPWr05JQpQWocYpLScKPRi6g)
  </Tab>

</Tabs>

To use the Custom Metrics Widgets, import the following `.json` file into the Dashboard Builder: 

```json .json
{"builderViewOptions":{"report":{"reportName":"Custom Metrics Examples","reportId":44811,"reportKey":"custom_metrics_examples__dont_delete_"},"extraActions":[]},"widgets":[{"config":[{"type":0,"schema":"","account_id":"","is_pre_flight":false,"distinct":false,"with":[{"key":"SELECT_DATA_BY","value":["region"],"value_len":false,"swap_as":false,"is_arg":true,"is_p_arg":false}],"preflights":null,"response_type":0,"top":0,"columns":["avg(downloads.speeds_bucket,value(min))"],"source":{"name":"custom","dataset":null,"final":false,"alias":""},"granularity":null,"join_with":null,"union":null,"filter":null,"group_by":null,"order_by":null,"limit":null,"options":null,"meta_data":null,"settings":null}],"label":"Histogram | Download Speeds","layout":{"_scope_id":1203811,"h":5,"w":4,"x":0,"y":0,"resizeHandles":["se"]},"widgetAppId":2,"key":"histogram___download_speeds_75ywvto3gr7"},{"config":[{"type":0,"schema":"","account_id":"","is_pre_flight":false,"distinct":false,"with":null,"preflights":null,"response_type":0,"top":0,"columns":["count(uploads.count)"],"source":{"name":"custom","dataset":null,"final":false,"alias":""},"granularity":null,"join_with":null,"union":null,"filter":null,"group_by":null,"order_by":null,"limit":null,"options":null,"meta_data":null,"settings":null}],"label":"Counter | User Downloads","layout":{"_scope_id":1203812,"h":5,"w":4,"x":4,"y":0,"resizeHandles":["se"]},"widgetAppId":12,"key":"counter___user_downloads_0cewroglqdz"},{"config":[{"type":0,"schema":"","account_id":"","is_pre_flight":false,"distinct":false,"with":[{"key":"SELECT_DATA_BY","value":["connections.active.hostname"],"value_len":false,"swap_as":false,"is_arg":true,"is_p_arg":false}],"preflights":null,"response_type":0,"top":0,"columns":["max(connections.active,value(avg))"],"source":{"name":"custom","dataset":null,"final":false,"alias":""},"granularity":null,"join_with":null,"union":null,"filter":null,"group_by":null,"order_by":null,"limit":null,"options":null,"meta_data":null,"settings":null}],"label":"Gauge | Active Connections","layout":{"_scope_id":1203813,"h":5,"w":4,"x":8,"y":0,"resizeHandles":["se"]},"widgetAppId":1,"key":"gauge___active_connections_efwqkofbvsa"}]}
```

# Kubernetes Example Widgets

<Tabs>

  <Tab title="Node CPU %">
    Select `system.cpu.utilization` as your primary Metric, choose the __Average By__ filter and aggregate by the sum of all `host.name`. Filter the above query such that `is.k8s.node` `=` `yes`
    ![](https://lh7-us.googleusercontent.com/HzXXAfiVbL5iIHIPb9BARUgKYT5uRUI_h-CxvG7xuAGQ4-be8GPeqUXtCYjqDxxRzdwZ7JOaLuzmn1d7KSv0LFMZxfe_RH7wZV4eTDWnyJf13gkaKoClketaV_OEcojVYWDwXJIVYVfWnsXWiGuzPIY)
  </Tab>
  <Tab title="Pod CPU - Same Deployment">
    Select `k8s.pod.cpu.utilization` as your primary Metric, choose the __Average By__ filter and aggregate by the average of all `k8s.pod.name`. Filter the above query such that `k8s.deployment.name` `=` `dndemo-deployment`
    ![](https://lh7-us.googleusercontent.com/GqWWn8jF7mGjc9OIQt0ltGLl85Euv__O_4tqVFYI-HPb_mEEJuFwX0DzA2WwkJF3NZQwjtpLT_Nth5sbi-EVWXtvwCG--lsky9b3LzlDfi2Z1QLxiaOMy7RkoMFOVQ_1JmY2tL1hYqQPLpHDWiM3YDQ)
  </Tab>

</Tabs>

To use the Kubernetes Widgets, import the following `.json` file into the Dashboard Builder: 

```json .json
{"builderViewOptions":{"report":{"reportName":"K8s Examples","reportId":44120,"reportKey":"k8s_examples__dont_delete_"},"extraActions":[]},"widgets":[{"config":[{"account_id":"","columns":["min(k8s.pod.phase,value(min))"],"distinct":false,"filter":null,"granularity":null,"group_by":null,"is_pre_flight":false,"join_with":null,"limit":null,"meta_data":null,"options":null,"order_by":null,"preflights":null,"response_type":0,"schema":"","settings":null,"source":{"alias":"","dataset":null,"final":false,"name":"k8s.pod"},"top":0,"type":0,"union":null,"with":[{"is_arg":true,"is_p_arg":false,"key":"SELECT_DATA_BY","swap_as":false,"value":["k8s.pod.name"],"value_len":false}]}],"label":"Pod Phase","layout":{"_scope_id":1073355,"h":9,"w":6,"x":0,"y":0,"resizeHandles":["se"]},"widgetAppId":1,"key":"untitled_39o1xsh41zh"},{"config":[{"type":0,"schema":"","account_id":"","is_pre_flight":false,"distinct":false,"with":[{"key":"SELECT_DATA_BY","value":["k8s.pod.name"],"value_len":false,"swap_as":false,"is_arg":true,"is_p_arg":false}],"preflights":null,"response_type":0,"top":0,"columns":["avg(k8s.container.ready,value(avg))"],"source":{"name":"k8s.container","dataset":null,"final":false,"alias":""},"granularity":null,"join_with":null,"union":null,"filter":null,"group_by":null,"order_by":null,"limit":null,"options":null,"meta_data":null,"settings":null}],"label":"Container Ready","layout":{"_scope_id":1077491,"h":9,"w":6,"x":6,"y":0,"resizeHandles":["se"]},"widgetAppId":1,"key":"container_ready_rrvc4cw9gzd"},{"config":[{"type":0,"schema":"","account_id":"","is_pre_flight":false,"distinct":false,"with":[{"key":"ATTRIBUTE_FILTER","value":{"k8s.deployment.name":{"=":"dndemo-deployment"}},"value_len":false,"swap_as":false,"is_arg":true,"is_p_arg":false},{"key":"SELECT_DATA_BY","value":[],"value_len":false,"swap_as":false,"is_arg":true,"is_p_arg":false}],"preflights":null,"response_type":0,"top":0,"columns":["any(k8s.pod.name)"],"source":{"name":"k8s.pod","dataset":null,"final":false,"alias":""},"granularity":null,"join_with":null,"union":null,"filter":null,"group_by":null,"order_by":null,"limit":null,"options":null,"meta_data":null,"settings":null},{"type":0,"schema":"","account_id":"","is_pre_flight":false,"distinct":false,"with":[{"key":"ATTRIBUTE_FILTER","value":{"k8s.deployment.name":{"=":"dndemo-deployment"}},"value_len":false,"swap_as":false,"is_arg":true,"is_p_arg":false},{"key":"SELECT_DATA_BY","value":[],"value_len":false,"swap_as":false,"is_arg":true,"is_p_arg":false}],"preflights":null,"response_type":0,"top":0,"columns":["min(k8s.pod.phase,value(min))"],"source":{"name":"k8s.pod","dataset":null,"final":false,"alias":""},"granularity":null,"join_with":null,"union":null,"filter":null,"group_by":null,"order_by":null,"limit":null,"options":null,"meta_data":null,"settings":null}],"label":"Pod Phase | Same Deployment","layout":{"_scope_id":1077505,"h":8,"w":6,"x":6,"y":9,"resizeHandles":["se"]},"widgetAppId":5,"key":"pod_phase___same_deployment_84vae4p36zn"},{"config":[{"account_id":"","columns":["avg(system.cpu.utilization,value(sum))"],"distinct":false,"filter":null,"granularity":null,"group_by":null,"is_pre_flight":false,"join_with":null,"limit":null,"meta_data":null,"options":null,"order_by":null,"preflights":null,"response_type":0,"schema":"","settings":null,"source":{"alias":"","dataset":null,"final":false,"name":"host"},"top":0,"type":0,"union":null,"with":[{"is_arg":true,"is_p_arg":false,"key":"SELECT_DATA_BY","swap_as":false,"value":["host.name"],"value_len":false},{"is_arg":true,"is_p_arg":false,"key":"ATTRIBUTE_FILTER","swap_as":false,"value":{"is.k8s.node":{"=":"yes"}},"value_len":false}]}],"label":"Node CPU %","layout":{"_scope_id":1203808,"h":8,"w":6,"x":0,"y":27,"resizeHandles":["se"]},"widgetAppId":1,"key":"node_cpu___test_i0pca8w55c9"},{"config":[{"type":0,"schema":"","account_id":"","is_pre_flight":false,"distinct":false,"with":[{"key":"SELECT_DATA_BY","value":["k8s.pod.name"],"value_len":false,"swap_as":false,"is_arg":true,"is_p_arg":false},{"key":"ATTRIBUTE_FILTER","value":{"k8s.deployment.name":{"=":"dndemo-deployment"}},"value_len":false,"swap_as":false,"is_arg":true,"is_p_arg":false}],"preflights":null,"response_type":0,"top":0,"columns":["avg(k8s.pod.cpu.utilization,value(avg))"],"source":{"name":"k8s.pod","dataset":null,"final":false,"alias":""},"granularity":null,"join_with":null,"union":null,"filter":null,"group_by":null,"order_by":null,"limit":null,"options":null,"meta_data":null,"settings":null}],"label":"Pod CPU | Same Deployment","layout":{"_scope_id":1203819,"h":8,"w":6,"x":0,"y":19,"resizeHandles":["se"]},"widgetAppId":1,"key":"pod_cpu___same_deployment_5bvgkx56vn8"},{"config":[{"columns":["avg(total_logs,value(count))"],"source":{"alias":"","dataset_id":0,"name":"log"},"with":[{"is_arg":true,"key":"ATTRIBUTE_FILTER","value":{"k8s.event.reason":{"=":"Killing"}}},{"is_arg":true,"key":"SELECT_DATA_BY","value":["host.name"]}]}],"label":"K8s Pods Killed","layout":{"_scope_id":1238209,"h":4,"w":6,"x":0,"y":15,"resizeHandles":["se"]},"widgetAppId":1,"key":"k8s_pods_killed_2rolisxtlmn"},{"config":[{"columns":["any(k8s.event.name)"],"source":{"alias":"","dataset_id":0,"name":"log"},"with":[{"is_arg":true,"key":"SELECT_DATA_BY","value":["k8s.event.reason"]},{"is_arg":true,"key":"ATTRIBUTE_FILTER","value":{"k8s.event.reason":{"=":"Killing"}}}]}],"label":"Untitled","layout":{"_scope_id":1238210,"h":6,"w":6,"x":0,"y":9,"resizeHandles":["se"]},"widgetAppId":5,"key":"untitled_fkpqzj22wao"}]}
```

# Example Dashboards

<Tabs>
  <Tab title="Container Dashboard">
    Select __Containers__ as your primary data source and choose __Select All__:

    ![](https://lh7-us.googleusercontent.com/n9LNxMZQwgV6f58c3VAGBIGNR7Kg4CPKpQUt_eIGhb48zADM0imwsU5HLq84pxbhnbdk0RGVD3vCEh-9zWm7-SvM98tJlWjc44PGUSkNYtzp4ctrkPTF-M76u7y-ldW67CymKrOH_yT9kWLxXV2xMZ0)
  </Tab>
  <Tab title="Host Dashboard">
    Select __Host__ as your primary data source and choose the widgets
  </Tab>
  <Tab title="Dashboard #3">
    💪 Here's content that's only inside the third Tab.
  </Tab>
</Tabs>




