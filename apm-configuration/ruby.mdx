---
title: "Ruby"
---
<span style={{
    background: "url(https://img.shields.io/github/v/release/middleware-labs/ruby-gem) no-repeat",
    width: "125px",
    height: "20px",
    display: "inline-block",
}}/>

| Traces | Metrics | App Logs | Custom Logs | Profiling |
| :----: | :-----: | :------: | :---------: | :-------: |
| ✅ | ✖️ | ✖️ | ✖️ | ✅ |

This guide walks you through setting up Application Performance Monitoring (APM) on a Ruby application. These instructions can also be found on the Installation page in your Middleware Account. View demo code [here](https://github.com/middleware-labs/demo-apm/tree/master/ruby).

# Prerequisites

* Middleware Host Agent (MW Agent), to install the MW Agent please see our [installation guide](https://docs.middleware.io/docs/agent-installation/overview).
* Ruby version 3.0.0, you can check your Ruby version with the following command.
```bash Shell
ruby --version
```

# Install

## Step 1: Add Gems to Your Gemfile

<Tabs>
  <Tab title="Linux Gemfile">
    ```ruby Ruby
       gem 'opentelemetry-sdk'
       gem 'opentelemetry-exporter-otlp'
       gem 'opentelemetry-instrumentation-all'
       gem 'pyroscope'
       gem 'middleware_apm_linux', '~> 2.1.0'
    ```
  </Tab>
  <Tab title="Windows Gemfile">
    ```ruby Ruby
        gem 'opentelemetry-sdk'
        gem 'opentelemetry-exporter-otlp'
        gem 'opentelemetry-instrumentation-all'
        gem 'pyroscope'
        gem 'middleware_apm_windows', '~> 2.1.0'
    ```
  </Tab>
</Tabs>




## Step 2: Import Tracker

<Tabs>
  <Tab title="Linux Environment">
    ```ruby Ruby
        require 'middleware/ruby_gem_linux'
        Middleware::RubyGem.init
    ```
  </Tab>
  <Tab title="Windows Environment">
    ```ruby Ruby
        require 'middleware/ruby_gem_windows'
        Middleware::RubyGem.init
    ```
  </Tab>
</Tabs>

## Step 3: Capture Application Data

### Traces
```bash Shell
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:9320 \ 
OTEL_SERVICE_NAME="<Your Service Name>" \ 
OTEL_RESOURCE_ATTRIBUTES=project.name="<Your Project Name>" \ 
MW_API_KEY=<Your API Key> \ 
<YOUR COMMAND> 
```
### Profiling
Application Profiling is auto-configured upon completion of Step 2.

<Note> Need assistance or want to learn more about Middleware? Contact us at support[at]middleware.io. </Note>